const express = require('express')
const cors = require('cors')
const app = express()

app.use(cors())
app.use(express.json())

// --- MENU DATA ---
let menuItems = [
  {
    id: "1",
    nameFI: "Keitot",
    nameSV: "Soppor",
    nameEN: "Soups",
    itemIds: ["1", "2"]
  },
  {
    id: "2",
    nameFI: "Salaatit",
    nameSV: "Sallader",
    nameEN: "Salads",
    itemIds: ["3", "4"]
  },
  {
    id: "3",
    nameFI: "Veget",
    nameSV: "Vegetariska",
    nameEN: "Vegetarian",
    itemIds: ["5", "6"]
  },
  {
    id: "4",
    nameFI: "Pastat",
    nameSV: "Pastarätter",
    nameEN: "Pastas",
    itemIds: ["7", "8"]
  },
  {
    id: "5",
    nameFI: "Kalat",
    nameSV: "Fiskrätter",
    nameEN: "Fish",
    itemIds: ["9", "10"]
  },
  {
    id: "6",
    nameFI: "Broilerit",
    nameSV: "Broilerrätter",
    nameEN: "Chicken",
    itemIds: ["11", "12"]
  },
  {
    id: "7",
    nameFI: "Lihat",
    nameSV: "Kötträtter",
    nameEN: "Meats",
    itemIds: ["13", "14", "15", "16", "17", "18", "19"]
  },
  {
    id: "8",
    nameFI: "Lapsille",
    nameSV: "För barn",
    nameEN: "For Kids",
    itemIds: ["20", "21", "22", "23", "24", "25"]
  },
  {
    id: "9",
    nameFI: "Burger ateriat",
    nameSV: "Hamburgermåltider",
    nameEN: "Burger Meals",
    itemIds: ["26", "27", "28", "29", "30"]
  },
  {
    id: "10",
    nameFI: "Pizzat",
    nameSV: "Pizzor",
    nameEN: "Pizzas",
    itemIds: ["31", "32", "33", "34", "35", "36", "37", "38"]
  },
  {
    id: "11",
    nameFI: "Burritot & Kebab & Makkaraperunat",
    nameSV: "Burritos, Kebab och Korvrätter",
    nameEN: "Burritos, Kebab & Sausage Meals",
    itemIds: ["39", "40", "41", "42", "43"]
  }
];

// --- PRODUCTS DATA ---
let products = [
  // --- KEITOT ---
  {
    id: "1",
    nameFI: "Pappilan Kantarellikeitto",
    nameSV: "Pastoragets Kantarellsoppa",
    nameEN: "Parsonage Chanterelle Soup",
    details: "(L, G tilauksesta)",
    price: "15,90 €",
    descriptionFI: "Juustoportin Pappilan juustolla ryyditetty, kermainen kantarellikeitto. Lisänä Maalahden limppua ja kirnuvoita.",
    descriptionSV: "Krämig kantarellsoppa kryddad med Juustoportti Pappila-ost. Serveras med Malaxlimpa och kärnsmör.",
    descriptionEN: "Creamy chanterelle soup seasoned with Juustoportti Pappila cheese. Served with Malax loaf and churned butter.",
    gluten: true,
    milk: true,
    lactose: true,
    nuts: false,
    meat: false,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false
  },
  {
    id: "2",
    nameFI: "Juustoportin Kermainen Lohikeitto",
    nameSV: "Juustoportti Krämig Laxsoppa",
    nameEN: "Juustoportti Creamy Salmon Soup",
    details: "(L, tilauksesta G)",
    price: "17,90 €",
    descriptionFI: "Juustoportin kirnuvoihin ja kermaan tehty herkullinen lohikeitto. Lisänä Maalahden limppua ja kirnuvoita.",
    descriptionSV: "Läcker laxsoppa gjord på Juustoportti kärnsmör och grädde. Serveras med Malaxlimpa och kärnsmör.",
    descriptionEN: "Delicious salmon soup made with Juustoportti churned butter and cream. Served with Malax loaf and churned butter.",
    gluten: false,
    milk: true,
    lactose: true,
    nuts: false,
    meat: false,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false
  },

  // --- SALAATIT ---
  {
    id: "3",
    nameFI: "Talon Salaatti",
    nameSV: "Husets Sallad",
    nameEN: "House Salad",
    details: "(L, G)",
    price: "15,90 €",
    descriptionFI: "Salaatin voit valita joko broilerilla, Hallajuustolla tai kasvispihvillä. Raikasta salaattia, sitruunavinaigrette-kastikkeessa, hölskykurkkuja ja miniluumutomaattia, granaattiomenan siemeniä, pensasmustikkaa, paahdettuja siemeniä ja balsamicoa.",
    descriptionSV: "Salladen kan väljas med antingen kyckling, Halla-ost eller en vegetarisk biff. Fräsch sallad i citronvinägrett, inlagd gurka och miniplommontomater, granatäppelkärnor, blåbär, rostade frön och balsamico.",
    descriptionEN: "You can choose the salad with either chicken, Halla cheese, or a vegetable patty. Fresh salad in lemon vinaigrette dressing, quick pickles and mini plum tomatoes, pomegranate seeds, blueberries, roasted seeds, and balsamic vinegar.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false
  },
  {
    id: "4",
    nameFI: "Kalastajan Lohisalaatti",
    nameSV: "Fiskarens Laxssallad",
    nameEN: "Fisherman's Salmon Salad",
    details: "(M, L, G)",
    price: "17,90 €",
    descriptionFI: "Raikasta salaattia, sitruunavinaigrette-kastikkeessa, paistettua lohta, hölskykurkkuja ja miniluumutomaattia, granaattiomenan siemeniä, pensasmustikkaa, paahdettuja siemeniä ja balsamicoa.",
    descriptionSV: "Fräsch sallad i citronvinägrett, stekt lax, inlagd gurka och miniplommontomater, granatäppelkärnor, blåbär, rostade frön och balsamico.",
    descriptionEN: "Fresh salad in lemon vinaigrette dressing, fried salmon, quick pickles and mini plum tomatoes, pomegranate seeds, blueberries, roasted seeds, and balsamic vinegar.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false
  },

  // --- VEGET ---
  {
    id: "5",
    nameFI: "Kasvisgalleria",
    nameSV: "Grönsaksgalleri",
    nameEN: "Vegetable Gallery",
    details: "(VEG, G)",
    price: "18,90 €",
    descriptionFI: "Herne-punajuuripihvit, maalaislohkoperunoita, paahdettuja uunijuureksia ja vihreää parsaa. Lehtikaalia, paprikaa, kesäkurpitsaa, maissia, marinoitua punasipulia ja Juustoportin kevi-viikunadippiä.",
    descriptionSV: "Ärt-rödbetsbiffar, lantpotatis, rostade ugnsrotfrukter och grön sparris. Grönkål, paprika, zucchini, majs, marinerad rödlök och Juustoportti kevi-fikon dipp.",
    descriptionEN: "Pea and beetroot patties, country style potato wedges, roasted oven root vegetables, and green asparagus. Kale, bell pepper, zucchini, corn, marinated red onion, and Juustoportti kevi fig dip.",
    gluten: true,
    milk: true,
    lactose: false, // Invert from true
    nuts: false,
    meat: false,
    animal: false,
    fish: false,
    seafood: false,
    soy: false,
    egg: false
  },
  {
    id: "6",
    nameFI: "Vegeburger bataattiranskalaisilla",
    nameSV: "Vegoburgare med sötpotatispommes",
    nameEN: "Veggie Burger with Sweet Potato Fries",
    details: "(VEG)",
    price: "17,90 €",
    descriptionFI: "Herne-punajuuripihvit, salaattia, tomaattia, marinoitua punasipulia, paholaisenhilloa, bataattiranskanperunoita ja Juustoportin kevi-viikunadippiä.",
    descriptionSV: "Ärt-rödbetsbiffar, sallad, tomat, marinerad rödlök, djävulssylt, sötpotatispommes och Juustoportti kevi-fikon dipp.",
    descriptionEN: "Pea and beetroot patties, lettuce, tomato, marinated red onion, devil's jam (chili jam), sweet potato fries, and Juustoportti kevi fig dip.",
    gluten: false,
    milk: false,
    lactose: true, // Invert from false
    nuts: false,
    meat: false,
    animal: false,
    fish: false,
    seafood: false,
    soy: false,
    egg: false
  },

  // --- PASTAT ---
  {
    id: "7",
    nameFI: "Chili-broileripasta",
    nameSV: "Chili-kycklingpasta",
    nameEN: "Chili Chicken Pasta",
    details: "(L)",
    price: "17,90 €",
    descriptionFI: "Pennepastaa kermaisessa chilikastikkeessa, broilerinrintaa, Grand Reserve juustoraastetta, marinoitua punasipulia ja sitruunaöljyä.",
    descriptionSV: "Pennepasta i krämig chilisås, kycklingbröst, riven Grand Reserve ost, marinerad rödlök och citronolja.",
    descriptionEN: "Penne pasta in a creamy chili sauce, chicken breast, grated Grand Reserve cheese, marinated red onion, and lemon oil.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false
  },
  {
    id: "8",
    nameFI: "Metsästäjän Sienipasta ja ilmakuivattua kinkkua",
    nameSV: "Jägarens Svamppasta med lufttorkad skinka",
    nameEN: "Hunter's Mushroom Pasta with air-dried ham",
    details: "(L)",
    price: "17,90 €",
    descriptionFI: "Pennepastaa kermaisessa kantarellikastikkeessa, ilmakuivattua kinkkua, punasipulia ja Grand Reserve juustoraastetta.",
    descriptionSV: "Pennepasta i krämig kantarellsås, lufttorkad skinka, rödlök och riven Grand Reserve ost.",
    descriptionEN: "Penne pasta in a creamy chanterelle sauce, air-dried ham, red onion, and grated Grand Reserve cheese.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false
  },

  // --- KALAT ---
  {
    id: "9",
    nameFI: "Paistettua Lohta, kantarellikastiketta",
    nameSV: "Stekt Lax med kantarellsås",
    nameEN: "Fried Salmon with Chanterelle Sauce",
    details: "(L, G)",
    price: "24,90 €",
    descriptionFI: "Paistettua lohta, maalaislohkoperunoita sekä uunijuureksia, vihreää parsaa, limeä, tilliä ja kantarellikastiketta.",
    descriptionSV: "Stekt lax, lantpotatis och ugnsrotfrukter, grön sparris, lime, dill och kantarellsås.",
    descriptionEN: "Fried salmon, country style potato wedges, oven root vegetables, green asparagus, lime, dill, and chanterelle sauce.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "10",
    nameFI: "Juustoportin Kirnuvoissa paistettuja muikkuja",
    nameSV: "Juustoportti Kärnssmörstekta Siklöjor",
    nameEN: "Vendace Fried in Juustoportti Churned Butter",
    details: "(L)",
    price: "19,90 €",
    descriptionFI: "Ruispaneroituja muikkuja, perunamuusia, hölskykurkkuja sekä valkosipulijogurttikastiketta.",
    descriptionSV: "Rågpanerade siklöjor, potatismos, inlagd gurka och vitlöksyoghurtsås.",
    descriptionEN: "Rye-battered vendace, mashed potatoes, quick pickles, and garlic yogurt sauce.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false,
  },

  // --- BROILERIT ---
  {
    id: "11",
    nameFI: "Vuohenjuustobroileria",
    nameSV: "Getostkyckling",
    nameEN: "Goat Cheese Chicken",
    details: "(L, G)",
    price: "18,90 €",
    descriptionFI: "Maissipaneroitua broilerin rintafileetä, keittiömestarin kastiketta, maalaislohkoperunoita, uunijuureksia ja vihreää parsaa, Chevre-juustoa ja lakkahilloa.",
    descriptionSV: "Majspanerad kycklingbröstfilé, kockens sås, lantpotatis, ugnsrotfrukter och grön sparris, Chèvre-ost och hjortronsylt.",
    descriptionEN: "Corn-battered chicken breast fillet, chef's sauce, country style potato wedges, oven root vegetables and green asparagus, Chevre cheese and cloudberry jam.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "12",
    nameFI: "Bearnaise Broileria",
    nameSV: "Bearnaise Kyckling",
    nameEN: "Bearnaise Chicken",
    details: "(L, G)",
    price: "18,90 €",
    descriptionFI: "Maissipaneroitua broilerin rintafileetä, lime-bearnaisekastiketta ja tikkuperunoita, paprikaa, kesäkurpitsaa, lehtikaalia, granaattiomenan siemeniä ja pensasmustikkaa.",
    descriptionSV: "Majspanerad kycklingbröstfilé, lime-bearnaisesås och pommes frites, paprika, zucchini, grönkål, granatäppelkärnor och blåbär.",
    descriptionEN: "Corn-battered chicken breast fillet, lime bearnaise sauce and matchstick fries, bell pepper, zucchini, kale, pomegranate seeds and blueberries.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },

  // --- LIHAT ---
  {
    id: "13",
    nameFI: "Mestarin Grillihärkä",
    nameSV: "Mästarens Grillbiff",
    nameEN: "Master's Grilled Beef",
    details: "(L, G)",
    price: "22,90 €",
    descriptionFI: "Naudan ulkofileepihvi 150 g, keittiömestarin voita sekä -kastiketta, tikkuperunoita, lehtikaalia, paprikaa, kesäkurpitsaa, maissintähkä ja aiolia.",
    descriptionSV: "Nötytterfilébiff 150 g, kockens smör och sås, pommes frites, grönkål, paprika, zucchini, majskolv och aioli.",
    descriptionEN: "Beef sirloin steak 150 g, chef's butter and sauce, matchstick fries, kale, bell pepper, zucchini, corn on the cob, and aioli.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "14",
    nameFI: "Juustoportin Pippuripihvi",
    nameSV: "Juustoportti Pepparbiff",
    nameEN: "Juustoportti Pepper Steak",
    details: "(L, G)",
    price: "25,90 €",
    descriptionFI: "Naudan ulkofileepihvi, Juustoportin Brandy-pähkinäjuustoa, pekonia, maalaislohkoperunoita, uunijuureksia, vihreää parsaa ja pippurikermakastiketta.",
    descriptionSV: "Nötytterfilébiff, Juustoportti Brandy-nötkräm, bacon, lantpotatis, ugnsrotfrukter, grön sparris och peppargräddsås.",
    descriptionEN: "Beef sirloin steak, Juustoportti Brandy-nut cheese, bacon, country style potato wedges, oven root vegetables, green asparagus, and pepper cream sauce.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: true,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "15",
    nameFI: "Lehtipihvi",
    nameSV: "Lövbiff",
    nameEN: "Minute Steak",
    details: "(L, G)",
    price: "22,90 €",
    descriptionFI: "Kotimainen naudan lehtipihvi, keittiömestarin maustevoita, tikkuperunoita, paahdettuja uunijuureksia ja vihreää parsaa.",
    descriptionSV: "Inhemsk nötlövbiff, kockens kryddsmör, pommes frites, rostade ugnsrotfrukter och grön sparris.",
    descriptionEN: "Domestic beef minute steak, chef's seasoned butter, matchstick fries, roasted oven root vegetables, and green asparagus.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "16",
    nameFI: "Lihapullat",
    nameSV: "Köttbullar",
    nameEN: "Meatballs",
    details: "(L, G)",
    price: "17,90 €",
    descriptionFI: "Kotimaisesta naudan lihasta valmistettuja lihapullia, perunamuusia, kermakastiketta, hölskykurkkuja ja puolukkahilloa.",
    descriptionSV: "Köttbullar gjorda på inhemskt nötkött, potatismos, gräddsås, inlagd gurka och lingonsylt.",
    descriptionEN: "Meatballs made from domestic beef, mashed potatoes, cream sauce, quick pickles, and lingonberry jam.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "17",
    nameFI: "Juustomestarin Possu Black & White",
    nameSV: "Ostmästarens Fläsk Black & White",
    nameEN: "Cheesemaster's Pork Black & White",
    details: "(L, G)",
    price: "19,90 €",
    descriptionFI: "Juustoportin Brandy-pähkinäjuustolla täytetty porsaan lehtipihvi, bearnaise- sekä keittiömestarinkastiketta, tikkuperunat, uunijuureksia ja vihreää parsaa.",
    descriptionSV: "Fläsklövbiff fylld med Juustoportti Brandy-nötkräm, bearnaise- och kockens sås, pommes frites, ugnsrotfrukter och grön sparris.",
    descriptionEN: "Pork minute steak filled with Juustoportti Brandy-nut cheese, bearnaise and chef's sauce, matchstick fries, oven root vegetables, and green asparagus.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: true,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "18",
    nameFI: "Metsästäjänleipä",
    nameSV: "Jägarens Smörgås",
    nameEN: "Hunter's Sandwich",
    details: "(L)",
    price: "17,90 €",
    descriptionFI: "Levainleivästä ja porsaan ulkofilepihvistä valmistettu metsästäjänleipä. Kantarellimuhennosta, lehtikaalia, miniluumutomaattia, marinoitua punasipulia. Lisänä tikkuperunat.",
    descriptionSV: "Jägarens smörgås gjord på Levainbröd och fläskytterfilébiff. Kantarellstuvning, grönkål, miniplommontomater, marinerad rödlök. Serveras med pommes frites.",
    descriptionEN: "Hunter's sandwich made from Levain bread and pork sirloin steak. Chanterelle stew, kale, mini plum tomatoes, marinated red onion. Served with matchstick fries.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "19",
    nameFI: "Mestarin Grillihärkä Special",
    nameSV: "Mästarens Grillbiff Special",
    nameEN: "Master's Grilled Beef Special",
    details: "(L, G)",
    price: "23,90 €",
    descriptionFI: "Naudan ulkofileepihvi lisukkeilla ja keittiömestarin maustevoilla.",
    descriptionSV: "Nötytterfilébiff med tillbehör och kockens kryddsmör.",
    descriptionEN: "Beef sirloin steak with side dishes and chef's seasoned butter.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },

// --- LAPSILLE ---
  {
    id: "20",
    nameFI: "Lihapullat ja muusi",
    nameSV: "Köttbullar och mos",
    nameEN: "Meatballs and mash",
    details: "(L, G)",
    price: "7,90 €",
    descriptionFI: "Lihapullia, perunamuusia, kermakastiketta, tuorekurkkulohkoja ja miniluumutomaattia.",
    descriptionSV: "Köttbullar, potatismos, gräddsås, färskgurkbitar och miniplommontomater.",
    descriptionEN: "Meatballs, mashed potatoes, cream sauce, fresh cucumber slices and mini plum tomatoes.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "21",
    nameFI: "Paistettu Lohi",
    nameSV: "Stekt Lax",
    nameEN: "Fried Salmon",
    details: "(L, G)",
    price: "9,90 €",
    descriptionFI: "Paistettua lohta, perunamuusia, kurkkumajoneesia, miniluumutomaattia ja tuorekurkkulohkoja.",
    descriptionSV: "Stekt lax, potatismos, gurkmajonnäs, miniplommontomater och färskgurkbitar.",
    descriptionEN: "Fried salmon, mashed potatoes, cucumber mayonnaise, mini plum tomatoes and fresh cucumber slices.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "22",
    nameFI: "Lasten Lehtipihvi",
    nameSV: "Barnens Lövbiff",
    nameEN: "Children's Minute Steak",
    details: "(M, L, G)",
    price: "8,90 €",
    descriptionFI: "Possun lehtipihvi, tikkuperunoita, tuorekurkkua, porkkanaa, maissintähkä ja dippimajoneesia.",
    descriptionSV: "Fläsklövbiff, pommes frites, färskgurka, morot, majskolv och dippmajonnäs.",
    descriptionEN: "Pork minute steak, matchstick fries, fresh cucumber, carrot, corn on the cob, and dip mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "23",
    nameFI: "Lasten Kanakori",
    nameSV: "Barnens Kycklingkorg",
    nameEN: "Children's Chicken Basket",
    details: "(M, L, G)",
    price: "7,90 €",
    descriptionFI: "Ranskalaisia, paneroitua broileria, tuorekurkkua, porkkanaa, maissintähkä ja dippimajoneesia.",
    descriptionSV: "Pommes frites, panerad kyckling, färskgurka, morot, majskolv och dippmajonnäs.",
    descriptionEN: "Fries, breaded chicken, fresh cucumber, carrot, corn on the cob, and dip mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "24",
    nameFI: "Lasten Hampurilaisateria",
    nameSV: "Barnens Hamburgermeny",
    nameEN: "Children's Hamburger Meal",
    details: "(L)",
    price: "7,90 €",
    descriptionFI: "Hampurilaispihvi, salaattia, cheddarjuustoa, hampurilais- ja kurkkumajoneesia, maalaisranskanperunoita ja ketsuppia.",
    descriptionSV: "Hamburgarbiff, sallad, cheddarost, hamburger- och gurkmajonnäs, lantpommes frites och ketchup.",
    descriptionEN: "Hamburger patty, lettuce, cheddar cheese, hamburger and cucumber mayonnaise, country style fries, and ketchup.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "25",
    nameFI: "Lasten Pizza kahdella täytteellä",
    nameSV: "Barnens Pizza med två fyllningar",
    nameEN: "Children's Pizza with two toppings",
    details: "",
    price: "7,90 €",
    descriptionFI: "Täytteet: Ananas, tomaatti, punasipuli, valkosipuli, sieni, leipäjuusto, chevre, aurajuusto, kinkku, kana, pekoni, tonnikala, pepperonisalami, kebab, katkarapu, kylmäsavulohi, ilmakuivattukinkku, paholaisensalsa, rukola.",
    descriptionSV: "Fyllningar: Ananas, tomat, rödlök, vitlök, svamp, brödost, chèvre, ädelost, skinka, kyckling, bacon, tonfisk, pepperonisalami, kebab, räka, kallrökt lax, lufttorkad skinka, djävulssalsa, ruccola.",
    descriptionEN: "Toppings: Pineapple, tomato, red onion, garlic, mushroom, bread cheese, chevre, blue cheese, ham, chicken, bacon, tuna, pepperoni salami, kebab, shrimp, cold-smoked salmon, air-dried ham, devil's salsa, arugula.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false,
  },

// --- BURGER ATERIAT ---
  {
    id: "26",
    nameFI: "Leipäjuusto Burger ateria",
    nameSV: "Brödost Burgermeny",
    nameEN: "Bread Cheese Burger Meal",
    details: "(L)",
    price: "17,90 €",
    descriptionFI: "Leipäjuustoa, paholaisensalsaa, salaattia, tomaattia, hampurilais- ja kurkkumajoneesia.",
    descriptionSV: "Brödost, djävulssalsa, sallad, tomat, hamburger- och gurkmajonnäs.",
    descriptionEN: "Bread cheese, devil's salsa (chili jam), lettuce, tomato, hamburger and cucumber mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "27",
    nameFI: "Talon Burger ateria",
    nameSV: "Husets Burgermeny",
    nameEN: "House Burger Meal",
    details: "(L)",
    price: "18,90 €",
    descriptionFI: "Suomalainen naudan täyslihapihvi, leipäjuustoa, paholaisensalsaa, salaattia, tomaattia, hampurilais- ja kurkkumajoneesia.",
    descriptionSV: "Finsk helköttsbiff av nöt, brödost, djävulssalsa, sallad, tomat, hamburger- och gurkmajonnäs.",
    descriptionEN: "Finnish whole meat beef patty, bread cheese, devil's salsa (chili jam), lettuce, tomato, hamburger and cucumber mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "28",
    nameFI: "Premium Burger ateria",
    nameSV: "Premium Burgermeny",
    nameEN: "Premium Burger Meal",
    details: "(L)",
    price: "19,90 €",
    descriptionFI: "Kaksi suomalaista naudan täyslihapihviä, salaattia, tomaattia, cheddarjuustoa, pekonia, marinoitua punasipulia, paneroituja sipulirenkaita sekä hampurilais- ja kurkkumajoneesia.",
    descriptionSV: "Två finska helköttsbiffar av nöt, sallad, tomat, cheddarost, bacon, marinerad rödlök, panerade lökringar samt hamburger- och gurkmajonnäs.",
    descriptionEN: "Two Finnish whole meat beef patties, lettuce, tomato, cheddar cheese, bacon, marinated red onion, breaded onion rings, and hamburger and cucumber mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "29",
    nameFI: "BBQ Burger ateria",
    nameSV: "BBQ Burgermeny",
    nameEN: "BBQ Burger Meal",
    details: "(L)",
    price: "18,90 €",
    descriptionFI: "BBQ-kastiketta, suomalainen naudan täyslihapihvi, cheddarjuustoa, salaattia, tomaattia, marinoitua punasipulia sekä hampurilais- ja kurkkumajoneesia.",
    descriptionSV: "BBQ-sås, finsk helköttsbiff av nöt, cheddarost, sallad, tomat, marinerad rödlök samt hamburger- och gurkmajonnäs.",
    descriptionEN: "BBQ sauce, Finnish whole meat beef patty, cheddar cheese, lettuce, tomato, marinated red onion, and hamburger and cucumber mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "30",
    nameFI: "Broileri Burger ateria",
    nameSV: "Kyckling Burgermeny",
    nameEN: "Chicken Burger Meal",
    details: "(L)",
    price: "18,90 €",
    descriptionFI: "Maissipaneroitua broilerin rintafileetä, vuohenjuustoa, salaattia, tomaattia, marinoitua punasipulia, paneroituja sipulirenkaita sekä hampurilais- ja kurkkumajoneesia.",
    descriptionSV: "Majspanerad kycklingbröstfilé, getost, sallad, tomat, marinerad rödlök, panerade lökringar samt hamburger- och gurkmajonnäs.",
    descriptionEN: "Corn-battered chicken breast fillet, goat cheese, lettuce, tomato, marinated red onion, breaded onion rings, and hamburger and cucumber mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
// --- PIZZAT ---
  {
    id: "31",
    nameFI: "Special Opera",
    nameSV: "Special Opera",
    nameEN: "Special Opera",
    details: "(L)",
    price: "14,90 €",
    descriptionFI: "Salamia, kinkkua ja tonnikalaa.",
    descriptionSV: "Salami, skinka och tonfisk.",
    descriptionEN: "Salami, ham, and tuna.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "32",
    nameFI: "Americana",
    nameSV: "Americana",
    nameEN: "Americana",
    details: "(L)",
    price: "14,90 €",
    descriptionFI: "Kinkkua, ananasta, BBQ-kastiketta ja rucolaa.",
    descriptionSV: "Skinka, ananas, BBQ-sås och ruccola.",
    descriptionEN: "Ham, pineapple, BBQ sauce, and arugula.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "33",
    nameFI: "Margherita Juustoportin tapaan",
    nameSV: "Margherita à la Juustoportti",
    nameEN: "Margherita Juustoportti Style",
    details: "(L)",
    price: "14,90 €",
    descriptionFI: "Tomaattikastiketta, leipäjuustoa, juustoraastetta.",
    descriptionSV: "Tomatsås, brödost, riven ost.",
    descriptionEN: "Tomato sauce, bread cheese, grated cheese.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "34",
    nameFI: "Fantasiapizza kolmella täytteellä",
    nameSV: "Fantasiapizza med tre fyllningar",
    nameEN: "Fantasy Pizza with three toppings",
    details: "",
    price: "15,90 €",
    descriptionFI: "Täytteet: Ananas, tomaatti, punasipuli, valkosipuli, sieni, leipäjuusto, chevre, aurajuusto, kinkku, kana, pekoni, tonnikala, pepperonisalami, kebab, katkarapu, jalapeno, ilmakuivattukinkku, paholaisensalsa, rucola.",
    descriptionSV: "Fyllningar: Ananas, tomat, rödlök, vitlök, svamp, brödost, chèvre, ädelost, skinka, kyckling, bacon, tonfisk, pepperonisalami, kebab, räka, jalapeño, lufttorkad skinka, djävulssalsa, ruccola.",
    descriptionEN: "Toppings: Pineapple, tomato, red onion, garlic, mushroom, bread cheese, chevre, blue cheese, ham, chicken, bacon, tuna, pepperoni salami, kebab, shrimp, jalapeno, air-dried ham, devil's salsa, arugula.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: true,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "35",
    nameFI: "Kanafarmarin Lautapizza BBQ",
    nameSV: "Kycklingfarmarens Brickpizza BBQ",
    nameEN: "Chicken Farmer's Board Pizza BBQ",
    details: "(L)",
    price: "15,90 €",
    descriptionFI: "Vuolukanaa, puolikuivattua tomaattia, punasipulia, ananasta, rucolaa ja BBQ-kastiketta.",
    descriptionSV: "Pulled kyckling, semi-torkad tomat, rödlök, ananas, ruccola och BBQ-sås.",
    descriptionEN: "Pulled chicken, semi-dried tomato, red onion, pineapple, arugula, and BBQ sauce.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "36",
    nameFI: "Juustokellarin Lautapizza",
    nameSV: "Ostkällarens Brickpizza",
    nameEN: "Cheese Cellar Board Pizza",
    details: "(L)",
    price: "15,90 €",
    descriptionFI: "Leipäjuustoa, paprikajuustoa, aurajuustoa, puolikuivattua tomaattia, rucolaa ja lakkahilloa.",
    descriptionSV: "Brödost, paprikaost, ädelost, semi-torkad tomat, ruccola och hjortronsylt.",
    descriptionEN: "Bread cheese, bell pepper cheese, blue cheese, semi-dried tomato, arugula, and cloudberry jam.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "37",
    nameFI: "Keisarin Lautapizza",
    nameSV: "Kejsarens Brickpizza",
    nameEN: "Emperor's Board Pizza",
    details: "(L)",
    price: "15,90 €",
    descriptionFI: "Ilmakuivattua kinkkua, leipäjuustoa, puolikuivattuja tomaatteja, marinoitua punasipulia ja rucolaa.",
    descriptionSV: "Lufttorkad skinka, brödost, semi-torkade tomater, marinerad rödlök och ruccola.",
    descriptionEN: "Air-dried ham, bread cheese, semi-dried tomatoes, marinated red onion, and arugula.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "38",
    nameFI: "Kebab Lautapizza",
    nameSV: "Kebab Brickpizza",
    nameEN: "Kebab Board Pizza",
    details: "(L)",
    price: "15,90 €",
    descriptionFI: "Kebablihaa, juustoraastetta, puolikuivattuja tomaatteja, jalapenoa, marinoitua punasipulia, kebab- ja valkosipulikastiketta, rucolaa.",
    descriptionSV: "Kebabkött, riven ost, semi-torkade tomater, jalapeño, marinerad rödlök, kebab- och vitlökssås, ruccola.",
    descriptionEN: "Kebab meat, grated cheese, semi-dried tomatoes, jalapeno, marinated red onion, kebab and garlic sauce, arugula.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
// --- BURRITOT, KEBAB & MAKKARAPERUNAT ---
  {
    id: "39",
    nameFI: "Broileri Burrito",
    nameSV: "Kyckling Burrito",
    nameEN: "Chicken Burrito",
    details: "(L)",
    price: "15,90 €",
    descriptionFI: "Rapeaksi paneroitua broileria, juusto- ja salsakastiketta, juustoraastetta, raikasta salaattia, miniluumutomaattia, jalapenoa ja lime-jalapenomajoneesia. Juustoportin Burriton voit valita joko Nacholastu & salsadipin tai Tikkuperuna & Chilimajoneesidipin kera.",
    descriptionSV: "Krispigt panerad kyckling, ost- och salsasås, riven ost, fräsch sallad, miniplommontomater, jalapeño och lime-jalapeñomajonnäs. Juustoporttis Burrito kan väljas med antingen Nachochips & salsadip eller Pommes frites & Chilimajonnäsdip.",
    descriptionEN: "Crispy battered chicken, cheese and salsa sauce, grated cheese, fresh lettuce, mini plum tomatoes, jalapeno and lime-jalapeno mayonnaise. Juustoportti's Burrito can be chosen with either Nacho chips & salsa dip or Matchstick fries & Chili mayonnaise dip.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "40",
    nameFI: "Kasvispihvi Burrito",
    nameSV: "Grönsaksbiff Burrito",
    nameEN: "Vegetable Patty Burrito",
    details: "(L)",
    price: "15,90 €",
    descriptionFI: "Herne-punajuuripihviä, juusto- ja salsakastiketta, juustoraastetta, raikasta salaattia, miniluumutomaattia, jalapenoa ja lime-jalapenomajoneesia. Juustoportin Burriton voit valita joko Nacholastu & salsadipin tai Tikkuperuna & Chilimajoneesidipin kera.",
    descriptionSV: "Ärt-rödbetsbiff, ost- och salsasås, riven ost, fräsch sallad, miniplommontomater, jalapeño och lime-jalapeñomajonnäs. Juustoporttis Burrito kan väljas med antingen Nachochips & salsadip eller Pommes frites & Chilimajonnäsdip.",
    descriptionEN: "Pea and beetroot patty, cheese and salsa sauce, grated cheese, fresh lettuce, mini plum tomatoes, jalapeno and lime-jalapeno mayonnaise. Juustoportti's Burrito can be chosen with either Nacho chips & salsa dip or Matchstick fries & Chili mayonnaise dip.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: false,
    animal: false,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "41",
    nameFI: "Kebab",
    nameSV: "Kebab",
    nameEN: "Kebab",
    details: "(L, G)",
    price: "15,90 €",
    descriptionFI: "Kebablihaa, maalaisranskanperunoita, raikasta salaattia, miniluumutomaattia, punasipulia, valkosipulijogurtti- sekä kebabkastiketta.",
    descriptionSV: "Kebabkött, lantpommes frites, fräsch sallad, miniplommontomater, rödlök, vitlöksyoghurtsås och kebabsås.",
    descriptionEN: "Kebab meat, country style fries, fresh lettuce, mini plum tomatoes, red onion, garlic yogurt sauce, and kebab sauce.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "42",
    nameFI: "Artesaanin makkaraperunat",
    nameSV: "Artisan Korvpommes",
    nameEN: "Artisan Sausage Fries",
    details: "(L, G)",
    price: "15,90 €",
    descriptionFI: "Atrian artesaani makkaraa, chorizoa, bratwursteja, tikkuperunoita, salaattia, marinoitua punasipulia, sinappikurkkusalaattia ja dijonsinappidippi.",
    descriptionSV: "Atria artisan korv, chorizo, bratwurst, pommes frites, sallad, marinerad rödlök, senapsgurksallad och dijonsenapsdip.",
    descriptionEN: "Atria artisan sausage, chorizo, bratwurst, matchstick fries, lettuce, marinated red onion, mustard pickle salad, and Dijon mustard dip.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
  {
    id: "43",
    nameFI: "Juustoportin Burrito Combo",
    nameSV: "Juustoportti Burrito Combo",
    nameEN: "Juustoportti Burrito Combo",
    details: "(L)",
    price: "16,90 €",
    descriptionFI: "Valitse broileri- tai kasvispihvitäyte. Sisältää juustokastiketta, salaattia, salsaa ja chilimajoneesia.",
    descriptionSV: "Välj kyckling- eller grönsaksbiffsfyllning. Innehåller ostsås, sallad, salsa och chilimajonnäs.",
    descriptionEN: "Choose chicken or vegetable patty filling. Includes cheese sauce, lettuce, salsa, and chili mayonnaise.",
    gluten: true,
    milk: true,
    lactose: false,
    nuts: false,
    meat: true,
    animal: true,
    fish: false,
    seafood: false,
    soy: false,
    egg: false,
  },
]

// Palauttaa valikon kategoriat ja niihin kuuluvat tuotteet
app.get('/api/menu-items', (req, res) => {
  try {
    const response = menuItems.map(category => {
      // Hakee tuotteet category.itemIds listan perusteella
      const items = category.itemIds.map(itemId => {
        return products.find(product => product.id === itemId)
      }).filter(item => item) // Poistaa mahdolliset undefined-arvot

      return {
        id: category.id,
        // Käytetään monikielisiä nimiä
        nameFI: category.nameFI,
        nameSV: category.nameSV,
        nameEN: category.nameEN,
        items: items
      }
    })
    res.json(response)
  } catch (error) {
    console.error("Error processing menu items:", error);
    res.status(500).json({ error: "Failed to fetch menu items." });
  }
})

// --- START SERVER ---
const PORT = process.env.PORT || 3001
app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`)
})
